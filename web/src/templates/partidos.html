<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {% block link %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/partidos.css') }}">
    {% endblock link %}

    <title>Partidos</title>
</head>
<body class="body-equipo-{{ equipo }}">


    <nav class="navbar-principal">
        <div class="navbar-principal-izq">
            <img class="navbar-escudo" src="{{ url_for('static', filename='imagenes/favoritos/'+equipo+'.png') }}" alt="Imagen" onclick="window.location.href='/equipo/{{ equipo }}'" style="cursor: pointer;">
            <ul class="navbar-principal-menu">
                <li><a href="/partidos">Partidos</a></li>
                <li><a href="/equipos">Equipos</a></li>
                <li><a href="/competiciones">Competiciones</a></li>
                <li><a href="/jugadores">Jugadores</a></li>
            </ul>
        </div>
        <div class="navbar-principal-der">
            <button id="toggle-navbar" class="toggle-button">
                <img src="{{ url_for('static', filename='imagenes/iconos/usuario.png') }}" alt="Hamburguesa Icon" height="20" class="icono-usuario">
            </button>
            <div class="navbar" id="navbar">
                <ul>
                    <li><a href="#">{{ usuario }}</a></li>
                    <li><a href="/logout">Salir</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="contenedor-pagina">

        {% block contenedor_lateral_izq %}

        <div class="contenedor-lateral contenedor-lateral-izq">
            <div class="circulo-partidos-totales">
                <p class="titulo-circulo-partidos-totales">Partidos Jugados {{ temporada_filtrada }}</p>
                <p class="valor-circulo-partidos-totales"><strong>{{ numero_partidos }}</strong></p>
            </div>
            <div class="circulo-partidos-ganados">
                <p class="titulo-circulo-partidos-ganados">Partidos Ganados {{ temporada_filtrada }}</p>
                <p class="valor-circulo-partidos-ganados"><strong>{{ partidos_ganados }}</strong></p>
            </div>
        </div>

        {% endblock contenedor_lateral_izq %}

        <div class="contenido-central">

            <div class="contenido-principal">

                {% block partidos %}

                <div class="contenedor-titulo">
                    <h1>Partidos del {{ nombre_equipo }}</h1>
                </div>

                {% endblock partidos %}

                {% block principal %}

                <div class="contenedor-tarjetas-partidos">

                    <div class="tarjetas-partidos">
                        <div class="tarjetas-partidos-wrapper">

                        {% for partido in partidos %}

                            <div class="tarjeta-partido" onclick="window.location.href='/partido/{{ partido[0] }}'">
                                <p><strong>{{ partido[2] }} - {{ partido[9] }}</strong></p>
                                <div class="info-partido">

                                    {% if partido[5]==-1 %}
                                        <img src="{{ url_for('static', filename='imagenes/iconos/no_escudo.png') }}" alt="Local Icon">
                                    {% else %}
                                        <img src="{{ url_imagen_escudo }}{{ partido[5] }}.png" alt="Local Icon">
                                    {% endif %}

                                    <h4>{{ partido[4] }} {{ partido[1] }} {{ partido[7] }}</h4>

                                    {% if partido[8]==-1 %}
                                        <img src="{{ url_for('static', filename='imagenes/iconos/no_escudo.png') }}" alt="Visitante Icon">
                                    {% else %}
                                        <img src="{{ url_imagen_escudo }}{{ partido[8] }}.png" alt="Visitante Icon">
                                    {% endif %}

                                </div>
                            </div>

                        {% endfor %}

                         </div>
                    </div>

                </div>

                <div class="contenedor-tipo-partidos">
                    <a href="/partidos" class="tipo-partidos tipo-partidos-todo">
                        <img src="{{ url_for('static', filename='imagenes/iconos/calendario.png') }}" alt="Todo" height="40">
                    </a>
                    <a href="/partidos?local=1" class="tipo-partidos tipo-partidos-local">
                        <img src="{{ url_for('static', filename='imagenes/iconos/local.png') }}" alt="Local" height="40">
                    </a>
                    <a href="/partidos?local=2" class="tipo-partidos tipo-partidos-visitante">
                        <img src="{{ url_for('static', filename='imagenes/iconos/visitante.png') }}" alt="Visitante" height="40">
                    </a>
                    <div class="contenedor-desplegable">
                        <select id="temporada" name="temporada">
                            <option value="" selected disabled hidden>
                                Temporada {{ temporada_filtrada-1 }} - {{ temporada_filtrada }}
                            </option>
                            {% for temporada in temporadas %}
                                <option value="{{ temporada }}">{{ temporada-1 }} - {{ temporada }}</option>
                            {% endfor %}

                        </select>
                    </div>
                </div>


                {% endblock principal %}

            </div>

        </div>

        {% block contenedor_lateral_der %}
        <div class="contenedor-lateral contenedor-lateral-der">

        </div>
        {% endblock contenedor_lateral_der %}
    </div>

    <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/temporadas.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pagina_anterior.js') }}"></script>

    <footer>
         <p>&copy; 2024 Futbol App. Todos los derechos reservados.</p>
    </footer>

</body>
</html>